{"version":3,"sources":["ConstantValues/ConstValues.tsx","components/CameraComponent/Camera.tsx","components/Game/Obstacle/GameObstacle.tsx","types/PokemonsData.ts","components/Game/Player/Player.tsx","assets/skate.png","components/Game/Game.tsx","Hooks/useJump.ts","assets/three-dots.svg","components/Common/Loader/Loader.tsx","components/PokemonCard/PokemonCard.tsx","components/SelectPokemons/SelectPokemons.tsx","Hooks/useOnScreen.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["TICK","DETECTED_CONFIG","modelType","poseDetection","SINGLEPOSE_LIGHTNING","enableTracking","VIDEO_CONFIG","audio","video","width","height","facingMode","frameRate","ideal","estimationConfig","flipHorizontal","Camera","onAiValueChange","isCameraEnabled","useState","setVideoElement","videoStream","setVideoStream","detector","setDetector","isReadyForDetection","setIsReadyForDetection","onNormalizeCoords","value","result","Math","floor","useEffect","srcObject","startVideoPlaying","a","play","getPosesForCoords","estimatePoses","poses","shoulder","keypoints","y","intervalId","setInterval","readyState","clearInterval","initializeVideoPlaying","navigator","mediaDevices","getUserMedia","startMoveNet","MoveNet","getTracks","forEach","track","stop","dispose","className","ref","GameObstacle","convertToCssUnits","valueToConvert","ObstacleTransition","left","x","style","isPokemonResponse","json","Boolean","count","isPokemonInfoResponse","id","Player","pokemonUrl","playerCoord","pokemonImage","setPokemonImage","fetch","response","body","sprites","other","dream_world","front_default","getPokemonsInfo","stylesJump","top","src","ObstacleID","Game","pokemonPlayer","setPlayerCoord","obstacles","setObstacles","isGameSessionStarted","setIsGameSessionStarted","score","setScore","paused","setPaused","setIsCameraEnabled","onChangePlayerCoord","isPaused","jumpProgressRef","useRef","callbacks","setCallbacks","returnIntervalId","step","PI","handleIntervalJump","current","newProgress","coord","abs","sin","handleJump","event","KeyboardEvent","key","handleBack","handleIntervalBack","useJump","random","newObstacle","document","addEventListener","removeEventListener","handleAiJump","useCallback","aiValue","map","obstacle","filter","setTimeout","IntervalId","prevValue","name","url","index","onClick","type","onChange","checked","Loader","svg","alt","PokemonCard","pokemonItem","isPokemonSelected","weight","baseExperience","pokemonInfo","setPokemonInfo","isLoading","setIsLoading","base_experience","SelectPokemons","onSelectPokemon","selectedPokemons","pokemons","setPokemons","currentPage","setCurrentPage","isFetching","setIsFetching","setRef","prevPokemons","results","getPokemons","onIntersect","isDisabled","observer","IntersectionObserver","isIntersecting","threshold","rootMargin","observe","unobserve","useIntersectionObserver","prevLast","includes","App","isGameStarted","setIsGameStarted","setPokemonPlayer","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e0267d2f.chunk.js","sourcesContent":["export const PAGE_SIZE = 10;\nexport const TICK = 40;\n","import { useEffect, useState } from 'react';\nimport * as poseDetection from '@tensorflow-models/pose-detection';\nimport '@tensorflow/tfjs-backend-webgl';\nimport './Camera.css';\nimport { TICK } from '../../ConstantValues/ConstValues';\n\ntype Props = {\n  onAiValueChange: (newPlayerCoord: number) => void;\n  isPaused: boolean;\n  isCameraEnabled: boolean;\n};\n\nconst DETECTED_CONFIG = {\n  modelType: poseDetection.movenet.modelType.SINGLEPOSE_LIGHTNING,\n  enableTracking: true,\n};\nconst VIDEO_CONFIG = {\n  audio: false,\n  video: {\n    width: 400,\n    height: 400,\n    facingMode: 'user',\n    frameRate: {\n      ideal: 60,\n    },\n  },\n};\n\nconst estimationConfig = { flipHorizontal: true };\n\nexport const Camera = ({ onAiValueChange, isCameraEnabled }: Props): JSX.Element => {\n  const [video, setVideoElement] = useState<HTMLVideoElement | null>(null);\n  const [videoStream, setVideoStream] = useState<MediaStream | null>(null);\n  const [detector, setDetector] = useState<poseDetection.PoseDetector | null>(null);\n  const [isReadyForDetection, setIsReadyForDetection] = useState(false);\n\n  const onNormalizeCoords = (value: number) => {\n    const result = Math.floor(-value * -0.3 - 100);\n    if (result > 0) return 0;\n    return result;\n  };\n\n  useEffect(() => {\n    if (!video || !videoStream) return;\n    video.srcObject = videoStream;\n    setIsReadyForDetection(false);\n    const startVideoPlaying = async () => {\n      await video.play();\n    };\n    startVideoPlaying();\n    setIsReadyForDetection(true);\n    return () => {\n      video.srcObject = null;\n    };\n  }, [videoStream, video]);\n\n  useEffect(() => {\n    if (!video || !detector || !isReadyForDetection) return;\n\n    const getPosesForCoords = async () => {\n      const poses = await detector.estimatePoses(video, estimationConfig);\n      const shoulder = poses[0]?.keypoints[6];\n      if (shoulder) onAiValueChange(onNormalizeCoords(shoulder.y));\n    };\n    const intervalId = setInterval(() => {\n      if (video.readyState === 4) getPosesForCoords();\n    }, TICK * 2);\n\n    return () => clearInterval(intervalId);\n  }, [video, detector, isReadyForDetection, onAiValueChange]);\n\n  useEffect(() => {\n    if (isCameraEnabled) {\n      const initializeVideoPlaying = async () => {\n        setVideoStream(await navigator.mediaDevices.getUserMedia(VIDEO_CONFIG));\n      };\n      const startMoveNet = async () => {\n        setDetector(await poseDetection.createDetector(poseDetection.SupportedModels.MoveNet, DETECTED_CONFIG));\n      };\n\n      initializeVideoPlaying();\n      startMoveNet();\n    } else {\n      setVideoStream(null);\n    }\n  }, [isCameraEnabled]);\n\n  useEffect(() => {\n    if (!videoStream) return;\n    return () => videoStream.getTracks().forEach((track) => track.stop());\n  }, [videoStream]);\n\n  useEffect(() => {\n    if (!detector) return;\n    return () => {\n      detector.dispose();\n    };\n  }, [detector]);\n\n  return <div className={'webcam-wrapper'}>{isCameraEnabled && <video ref={setVideoElement} />}</div>;\n};\n","import './Obstacle.css';\nimport { ObstacleEntity } from '../../../types/GameObstacle';\n\ntype Props = ObstacleEntity;\n\nexport const GameObstacle = ({ height, x }: Props): JSX.Element => {\n  const convertToCssUnits = (valueToConvert: number): string | undefined => `${valueToConvert}%`;\n\n  const ObstacleTransition = {\n    left: convertToCssUnits(x),\n    height: convertToCssUnits(height),\n  };\n  return <div className='obstacle-wrapper' style={ObstacleTransition}></div>;\n};\n","export type PokemonsData = { name: string; url: string };\nexport type PokemonInfo = {\n  weight: number;\n  base_experience: number;\n  height: number;\n  id: number;\n  sprites: { other: { dream_world: { front_default: string } } };\n};\nexport type PokemonsResponse = {\n  count: number;\n  results: PokemonsData[];\n};\nexport const isPokemonResponse = (json: unknown): json is PokemonsResponse => {\n  return !!json && Boolean((json as PokemonsResponse).count);\n};\nexport const isPokemonInfoResponse = (json: unknown): json is PokemonInfo => {\n  return !!json && Boolean((json as PokemonInfo).id);\n};\n","import { useEffect, useState } from 'react';\nimport { isPokemonInfoResponse } from '../../../types/PokemonsData';\nimport skate from './../../../assets/skate.png';\nimport './Player.css';\n\ntype Props = {\n  pokemonUrl: string | undefined;\n  playerCoord: number;\n};\n\nexport const Player = ({ pokemonUrl, playerCoord }: Props): JSX.Element => {\n  const [pokemonImage, setPokemonImage] = useState('');\n  useEffect(() => {\n    async function getPokemonsInfo() {\n      if (!pokemonUrl) return;\n      const response = await fetch(pokemonUrl);\n      const body = (await response.json()) as unknown;\n      if (isPokemonInfoResponse(body)) {\n        setPokemonImage(body.sprites.other.dream_world.front_default);\n      }\n    }\n    getPokemonsInfo();\n  }, [pokemonUrl]);\n\n  const convertToCssUnits = (valueToConvert: number): string | undefined => {\n    return `${valueToConvert + 100}%`;\n  };\n\n  const stylesJump = {\n    top: convertToCssUnits(playerCoord),\n  };\n  return (\n    <div className='player-wrapper' style={stylesJump}>\n      <img className='pokemon' src={pokemonImage} />\n      <img className='skate' src={skate} />\n    </div>\n  );\n};\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAMCAYAAACeGbYxAAAAk0lEQVR4nL2TsRHCMAxFn3K+w11aL8UYjEGVkbxU2nSiEkWMg30JBUSosaz/pafCBgCi8ZeonGgZzB+8ccKrlFGujuCM1jwAzEDqBI+Yyzn0BW9gA/UE93PDu5CcwankA6jciLsbnQkEWDkqsknRJseHdC9AAGklz7+qlSXHpmjjeKm3ZXk0jd97P0LXYXub/up9AsUJMQbaFcO1AAAAAElFTkSuQmCC\"","import { useCallback, useEffect, useState } from 'react';\nimport { TICK } from '../../ConstantValues/ConstValues';\nimport { useJump } from '../../Hooks/useJump';\nimport { ObstacleEntity } from '../../types/GameObstacle';\nimport { PokemonsData as PokemonData } from '../../types/PokemonsData';\nimport { Camera } from '../CameraComponent/Camera';\nimport './Game.css';\nimport { GameObstacle } from './Obstacle/GameObstacle';\nimport { Player } from './Player/Player';\n\nlet ObstacleID = 1;\n\ntype Props = {\n  pokemonPlayer: PokemonData | undefined;\n};\n\nconst generateObstacle = (): ObstacleEntity => {\n  const height = Math.random() * (20 - 60) + 60;\n  const y = Math.random() * (0 - 50) + 50;\n  return { height, x: 100, y, id: ObstacleID++ };\n};\n\nexport const Game = ({ pokemonPlayer }: Props): JSX.Element => {\n  const [playerCoord, setPlayerCoord] = useState(0);\n  const [obstacles, setObstacles] = useState<ObstacleEntity[]>([]);\n  const [isGameSessionStarted, setIsGameSessionStarted] = useState(false);\n  const [score, setScore] = useState(0);\n  const [paused, setPaused] = useState(false);\n  const [isCameraEnabled, setIsCameraEnabled] = useState(true);\n\n  const { handleBack, handleJump } = useJump({\n    onChangePlayerCoord: setPlayerCoord,\n    isPaused: paused,\n  });\n\n  useEffect(() => {\n    const intervalId = setInterval(() => {\n      if (!isGameSessionStarted) return;\n      const randomValue = Math.random() * (100 - 50) + 50;\n      if (randomValue > 100) return;\n      const newObstacle = generateObstacle();\n      setObstacles((obstacles) => [...obstacles, newObstacle]);\n    }, TICK * 80);\n    return () => {\n      clearInterval(intervalId);\n    };\n  }, [isGameSessionStarted]);\n\n  useEffect(() => {\n    if (!isGameSessionStarted || paused || isCameraEnabled) return;\n    let intervalId: number | null = null;\n    let returnIntervalId: number | null = null;\n    if (!handleJump || !handleBack) return;\n\n    intervalId = setInterval(() => {\n      document.addEventListener('keyup', handleJump);\n      document.addEventListener('touchend', handleJump);\n    }, TICK) as unknown as null;\n\n    returnIntervalId = setInterval(() => {\n      document.addEventListener('keydown', handleBack);\n      document.addEventListener('touchstart', handleBack);\n    }, TICK) as unknown as null;\n\n    return () => {\n      if (returnIntervalId) clearInterval(returnIntervalId);\n      if (intervalId) clearInterval(intervalId);\n      returnIntervalId = null;\n      intervalId = null;\n      document.removeEventListener('keydown', handleBack);\n      document.removeEventListener('touchstart', handleJump);\n      document.removeEventListener('touchend', handleJump);\n      document.removeEventListener('keyup', handleJump);\n    };\n  }, [handleJump, handleBack, paused, isGameSessionStarted, isCameraEnabled]);\n\n  const handleAiJump = useCallback(\n    (aiValue: number) => {\n      if (!handleJump || !handleBack || !isGameSessionStarted || paused) return;\n      if (aiValue >= -3) handleJump();\n      else handleBack();\n    },\n    [handleBack, handleJump, isGameSessionStarted, paused]\n  );\n\n  useEffect(() => {\n    if (paused) return;\n    if (!isGameSessionStarted) {\n      setObstacles([]);\n      return;\n    }\n    const intervalId = setInterval(() => {\n      setObstacles((obstacles) =>\n        obstacles.map((obstacle) => ({ ...obstacle, x: obstacle.x - 1 })).filter((obstacle) => obstacle.x !== 0)\n      );\n    }, TICK / 2);\n    return () => {\n      clearInterval(intervalId);\n    };\n  }, [isGameSessionStarted, paused]);\n\n  useEffect(() => {\n    obstacles.forEach((obstacle) => {\n      if (obstacle.x <= 11 && -playerCoord <= obstacle.height) {\n        setTimeout(() => {\n          setPlayerCoord(0);\n          setScore(0);\n          setIsGameSessionStarted(false);\n        }, TICK);\n      }\n    });\n  }, [obstacles, playerCoord]);\n\n  useEffect(() => {\n    if (paused || !isGameSessionStarted) return;\n    const IntervalId = setInterval(() => {\n      setScore((prevValue) => prevValue + 1);\n    }, TICK * 20);\n    return () => {\n      clearInterval(IntervalId);\n    };\n  }, [paused, isGameSessionStarted]);\n\n  return (\n    <div className='main-game-wrapper'>\n      <div className='game-wrapper'>\n        <span className='game-logo'>RUN! {pokemonPlayer?.name}! RUN!</span>\n        <div className='game-block-container'>\n          <div className={isGameSessionStarted ? (!paused ? 'game-block animated' : 'game-block') : 'game-block'}>\n            <div className='game-field'>\n              <Player pokemonUrl={pokemonPlayer?.url} playerCoord={playerCoord} />\n              {obstacles.map((obstacle, index) => (\n                <GameObstacle {...obstacle} key={index} />\n              ))}\n            </div>\n          </div>\n          {isGameSessionStarted && (\n            <div className='btn-pause-wrapper'>\n              <button\n                className='btn-pause'\n                onClick={() => {\n                  if (isGameSessionStarted) setPaused((prevValue) => !prevValue);\n                }}\n              >\n                PAUSE\n              </button>\n            </div>\n          )}\n        </div>\n\n        <div className={`webcam-wrapper ${!isCameraEnabled ? 'disabled' : ''}`}>\n          {isCameraEnabled && (\n            <Camera isPaused={paused} onAiValueChange={handleAiJump} isCameraEnabled={isCameraEnabled} />\n          )}\n          <div className='features-wrapper'>\n            <span className='checkbox-wrapper'>\n              {isCameraEnabled ? 'Camera ON' : 'Camera OFF'}\n              <input\n                type='checkbox'\n                onChange={() => setIsCameraEnabled(!isCameraEnabled)}\n                checked={isCameraEnabled}\n                className='checkboxOnOff'\n              />\n            </span>\n          </div>\n        </div>\n      </div>\n\n      <div className='game-score'>\n        <span>SCORE</span>\n        <span>{score}</span>\n      </div>\n      <div className='instructions-wrapper'>\n        <span>\n          If you switch the camera ON then controlling <span className='sub-instruction'>will be using the AI.</span>\n        </span>\n        <span>\n          If you switch the camera OFF then controlling{' '}\n          <span className='sub-instruction'>will be using the SPACEBAR</span>\n        </span>\n      </div>\n      {!isGameSessionStarted && (\n        <div className='btn-start-wrapper'>\n          <button className='btn-start' onClick={() => setIsGameSessionStarted(true)}>\n            Start\n          </button>\n        </div>\n      )}\n    </div>\n  );\n};\n","import { useEffect, useRef, useState } from 'react';\nimport { TICK } from '../ConstantValues/ConstValues';\nimport { jumpCallbacks } from '../types/GameTypes';\n\ntype Props = {\n  isPaused: boolean;\n  onChangePlayerCoord: React.Dispatch<React.SetStateAction<number>>;\n};\n\nexport const useJump = ({ onChangePlayerCoord, isPaused }: Props): jumpCallbacks => {\n  const jumpProgressRef = useRef(0);\n  const [callbacks, setCallbacks] = useState<jumpCallbacks>({});\n\n  useEffect(() => {\n    let intervalId: number | null = null;\n    let returnIntervalId: number | null = null;\n    const step = Math.PI / 60;\n    if (isPaused) return;\n\n    const handleJump = (event?: (TouchEvent | KeyboardEvent) | null) => {\n      if (event instanceof KeyboardEvent && event.key !== ' ') return;\n      if (!returnIntervalId) {\n        returnIntervalId = setInterval(handleIntervalJump, TICK / 2) as unknown as number;\n        handleIntervalJump();\n        if (intervalId) clearInterval(intervalId);\n      }\n    };\n    const handleIntervalJump = () => {\n      if (jumpProgressRef.current > Math.PI && returnIntervalId !== null) {\n        jumpProgressRef.current = 0;\n        clearInterval(returnIntervalId);\n        intervalId = null;\n        returnIntervalId = null;\n        return;\n      }\n      if (jumpProgressRef.current < Math.PI / 2) {\n        const newProgress = Math.PI / 2 - jumpProgressRef.current;\n        jumpProgressRef.current += newProgress * 2;\n      }\n      const coord = Math.abs(Math.sin(jumpProgressRef.current));\n      onChangePlayerCoord(Math.floor(coord * -100));\n      jumpProgressRef.current += step;\n    };\n\n    if (!isPaused && jumpProgressRef.current > 0)\n      returnIntervalId = setInterval(handleIntervalJump, TICK) as unknown as number;\n\n    const handleBack = (event?: (TouchEvent | KeyboardEvent) | null) => {\n      if (event instanceof KeyboardEvent && event.key !== ' ') return;\n      if (!intervalId) {\n        const handleIntervalBack = () => {\n          if (jumpProgressRef.current > Math.PI && intervalId !== null) {\n            clearInterval(intervalId);\n            intervalId = null;\n            jumpProgressRef.current = 0;\n            if (returnIntervalId) clearInterval(returnIntervalId);\n            returnIntervalId = null;\n            return;\n          }\n          const coord = Math.abs(Math.sin(jumpProgressRef.current));\n\n          onChangePlayerCoord(Math.floor(coord * -100));\n          jumpProgressRef.current += step;\n        };\n        intervalId = setInterval(handleIntervalBack, TICK / 2) as unknown as number;\n        handleIntervalBack();\n      }\n    };\n    setCallbacks({ handleJump, handleBack });\n    return () => {\n      if (intervalId) clearInterval(intervalId);\n      if (returnIntervalId) clearInterval(returnIntervalId);\n    };\n  }, [onChangePlayerCoord, isPaused]);\n\n  return callbacks;\n};\n","export default __webpack_public_path__ + \"static/media/three-dots.b98a8c76.svg\";","import './Loader.css';\nimport svg from './../../../assets/three-dots.svg';\n\nexport function Loader(): JSX.Element {\n  return (\n    <div className='loader-wrapper'>\n      <img className='loader' src={svg} alt='' />\n    </div>\n  );\n}\n","import { useEffect, useState } from 'react';\nimport { isPokemonInfoResponse, PokemonsData } from '../../types/PokemonsData';\nimport { Loader } from './../Common/Loader/Loader';\n\nimport './PokemonCard.css';\n\ninterface Props {\n  pokemonItem: PokemonsData;\n  onClick: () => void;\n  isPokemonSelected: boolean;\n}\n\nexport function PokemonCard({ pokemonItem, onClick, isPokemonSelected }: Props): JSX.Element {\n  const [pokemonInfo, setPokemonInfo] = useState({ weight: 0, baseExperience: 0, height: 0 });\n  const [isLoading, setIsLoading] = useState(false);\n  const [pokemonImage, setPokemonImage] = useState('');\n\n  useEffect(() => {\n    setIsLoading(true);\n    async function getPokemonsInfo() {\n      const response = await fetch(pokemonItem.url);\n      const body = (await response.json()) as unknown;\n      if (isPokemonInfoResponse(body)) {\n        setPokemonInfo({\n          weight: body.weight,\n          baseExperience: body.base_experience,\n          height: body.height,\n        });\n        setPokemonImage(body.sprites.other.dream_world.front_default);\n        setIsLoading(false);\n      }\n    }\n    getPokemonsInfo();\n  }, [pokemonItem?.url]);\n\n  return (\n    <div className={isPokemonSelected ? 'pokemon-card active' : 'pokemon-card'} onClick={onClick}>\n      {isLoading ? (\n        <Loader />\n      ) : (\n        <div className='pokemon-header-wrapper'>\n          <span className='pokemon-name'>{pokemonItem.name}</span>\n          <div className='pokemon-common-info'>\n            <span>Weight: {pokemonInfo.weight}</span>\n            <span>Base experience: {pokemonInfo.baseExperience}</span>\n            <span>Height: {pokemonInfo.height}</span>\n          </div>\n          <div className='pokemon-image'>\n            <img src={pokemonImage} alt='' />\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","import { useCallback, useEffect, useState } from 'react';\nimport { PAGE_SIZE } from '../../ConstantValues/ConstValues';\nimport { useIntersectionObserver } from '../../Hooks/useOnScreen';\nimport { isPokemonResponse, PokemonsData } from '../../types/PokemonsData';\nimport { Loader } from '../Common/Loader/Loader';\nimport { PokemonCard } from '../PokemonCard/PokemonCard';\nimport './SelectPokemons.css';\n\ntype Props = {\n  onSelectPokemon: (pokemon: PokemonsData, isCurrentlySelected: boolean) => void;\n  selectedPokemons: string[];\n};\n\nexport const SelectPokemons = ({ onSelectPokemon, selectedPokemons }: Props): JSX.Element => {\n  const [pokemons, setPokemons] = useState<PokemonsData[]>([]);\n  const [currentPage, setCurrentPage] = useState(0);\n  const [isFetching, setIsFetching] = useState(true);\n  const [ref, setRef] = useState<HTMLDivElement | null>(null);\n\n  useEffect(() => {\n    async function getPokemons() {\n      const response = await fetch(\n        `https://pokeapi.co/api/v2/pokemon?limit=${PAGE_SIZE}&offset=${currentPage * PAGE_SIZE}`\n      );\n      const body = (await response.json()) as unknown;\n      if (isPokemonResponse(body)) {\n        setIsFetching(false);\n        setPokemons((prevPokemons) => [...prevPokemons, ...body.results]);\n      }\n    }\n    getPokemons();\n  }, [currentPage]);\n\n  const onIntersect = useCallback(() => {\n    setCurrentPage((prevLast) => prevLast + 1);\n  }, []);\n\n  useIntersectionObserver({\n    ref,\n    onIntersect,\n    isDisabled: isFetching,\n  });\n\n  if (isFetching) {\n    return <Loader />;\n  } else {\n    return (\n      <div className='pokemon-wrapper'>\n        <span className='pokemon-logo'>choose your pokemon!</span>\n        <div className='pokemon-cards'>\n          {pokemons.map((pokemonItem) => {\n            const isPokemonSelected = selectedPokemons.includes(pokemonItem.name);\n            return (\n              <PokemonCard\n                pokemonItem={pokemonItem}\n                key={pokemonItem.name}\n                isPokemonSelected={isPokemonSelected}\n                onClick={() => onSelectPokemon(pokemonItem, isPokemonSelected)}\n              />\n            );\n          })}\n        </div>\n        <div ref={setRef} className='observer-block' />\n      </div>\n    );\n  }\n};\n","import { useEffect } from 'react';\n\ntype Props = {\n  ref: HTMLDivElement | null;\n  onIntersect: () => void;\n  isDisabled: boolean;\n};\n\nexport function useIntersectionObserver({ ref, onIntersect, isDisabled }: Props): void {\n  useEffect(() => {\n    if (isDisabled || !ref) return;\n\n    const observer = new IntersectionObserver(\n      ([entry]) => {\n        if (entry.isIntersecting) onIntersect();\n      },\n      { threshold: 0.5, rootMargin: '200px' }\n    );\n\n    observer.observe(ref);\n\n    return () => {\n      observer.unobserve(ref);\n    };\n  }, [ref, onIntersect, isDisabled]);\n}\n","import { useState } from 'react';\nimport './App.css';\nimport { Game } from './components/Game/Game';\nimport { SelectPokemons } from './components/SelectPokemons/SelectPokemons';\nimport { PokemonsData } from './types/PokemonsData';\n\nexport const App = (): JSX.Element => {\n  const [isGameStarted, setIsGameStarted] = useState(false);\n  const [pokemonPlayer, setPokemonPlayer] = useState<PokemonsData>();\n\n  return (\n    <div className='main-wrapper'>\n      {isGameStarted ? (\n        <Game pokemonPlayer={pokemonPlayer} />\n      ) : (\n        <div>\n          <SelectPokemons\n            selectedPokemons={pokemonPlayer ? [pokemonPlayer.name] : []}\n            onSelectPokemon={setPokemonPlayer}\n          />\n          {pokemonPlayer && (\n            <div className='btn-start-wrapper'>\n              <button\n                className='btn-start'\n                onClick={() => {\n                  setIsGameStarted(true);\n                }}\n              >\n                Start\n              </button>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler): void => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { App } from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}