{"version":3,"sources":["three-dots.svg","components/Common/Loader/Loader.tsx","types/PokemonsData.ts","components/PokemonCard/PokemonCard.tsx","App.tsx","Hooks/useOnScreen.tsx","reportWebVitals.ts","index.tsx"],"names":["Loader","className","src","svg","alt","isPokemonResponse","json","Boolean","count","isPokemonInfoResponse","id","PokemonCard","pokemonItem","useState","weight","baseExperience","height","pokemonInfo","setPokemonInfo","isLoading","setIsLoading","pokemonImage","setPokemonImage","isActive","setIsActive","useEffect","a","fetch","url","response","body","base_experience","sprites","other","dream_world","front_default","getPokemonsInfo","onClick","name","App","pokemons","setPokemons","lastPage","setLastPage","isFetching","setIsFetching","refObserver","useRef","prevPokemons","results","getPokemons","ref","onIntersect","observable","current","observer","IntersectionObserver","isIntersecting","threshold","rootMargin","observe","unobserve","useIntersectionObserver","useCallback","prevLast","map","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4e40e2de.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/three-dots.b98a8c76.svg\";","import './Loader.css';\nimport svg from './../../../three-dots.svg';\n\nexport function Loader(): JSX.Element {\n  return (\n    <div>\n      <img className='loader' src={svg} alt='' />\n    </div>\n  );\n}\n","export type PokemonsData = { name: string; url: string };\nexport type PokemonInfo = {\n  weight: number;\n  base_experience: number;\n  height: number;\n  id: number;\n  sprites: { other: { dream_world: { front_default: string } } };\n};\nexport type PokemonsResponse = {\n  count: number;\n  results: PokemonsData[];\n};\nexport const isPokemonResponse = (json: unknown): json is PokemonsResponse => {\n  return !!json && Boolean((json as PokemonsResponse).count);\n};\nexport const isPokemonInfoResponse = (json: unknown): json is PokemonInfo => {\n  return !!json && Boolean((json as PokemonInfo).id);\n};\n","import { useEffect, useState } from 'react';\nimport { isPokemonInfoResponse, PokemonsData } from '../../types/PokemonsData';\nimport { Loader } from './../Common/Loader/Loader';\n\nimport './PokemonCard.css';\n\ninterface Props {\n  pokemonItem: PokemonsData;\n}\n\nexport function PokemonCard({ pokemonItem }: Props): JSX.Element {\n  const [pokemonInfo, setPokemonInfo] = useState({ weight: 0, baseExperience: 0, height: 0 });\n  const [isLoading, setIsLoading] = useState(true);\n  const [pokemonImage, setPokemonImage] = useState('');\n  const [isActive, setIsActive] = useState(false);\n\n  useEffect(() => {\n    async function getPokemonsInfo() {\n      const response = await fetch(pokemonItem.url);\n      const body = (await response.json()) as unknown;\n      if (isPokemonInfoResponse(body)) {\n        setPokemonInfo({\n          weight: body.weight,\n          baseExperience: body.base_experience,\n          height: body.height,\n        });\n        setPokemonImage(body.sprites.other.dream_world.front_default);\n        setIsLoading(false);\n      }\n    }\n    getPokemonsInfo();\n  }, [pokemonItem.url]);\n\n  if (isLoading) return <Loader />;\n\n  return (\n    <div\n      className={isActive ? 'activeCard' : 'pokemon-card'}\n      key={pokemonItem.name}\n      onClick={() => setIsActive(!isActive)}\n    >\n      <div className='pokemon-header-wrapper'>\n        <span className='pokemon-name'>{pokemonItem.name}</span>\n        <div className='pokemon-common-info'>\n          <span>Weight: {pokemonInfo.weight}</span>\n          <span>Base experience: {pokemonInfo.baseExperience}</span>\n          <span>Height: {pokemonInfo.height}</span>\n        </div>\n        <div className='pokemon-image'>\n          <img src={pokemonImage} alt='' />\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { useCallback, useEffect, useRef, useState } from 'react';\nimport './App.css';\nimport { Loader } from './components/Common/Loader/Loader';\n\nimport { PokemonCard } from './components/PokemonCard/PokemonCard';\nimport { useIntersectionObserver } from './Hooks/useOnScreen';\nimport { isPokemonResponse, PokemonsData } from './types/PokemonsData';\n\nconst PAGE_SIZE = 5;\n\nfunction App(): JSX.Element {\n  const [pokemons, setPokemons] = useState<PokemonsData[]>([]);\n  const [lastPage, setLastPage] = useState(0);\n  const [isFetching, setIsFetching] = useState(true);\n  const refObserver = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    async function getPokemons() {\n      const response = await fetch(\n        `https://pokeapi.co/api/v2/pokemon?limit=${PAGE_SIZE}&offset=${lastPage * PAGE_SIZE}`\n      );\n      const body = (await response.json()) as unknown;\n      if (isPokemonResponse(body)) {\n        setPokemons((prevPokemons) => [...prevPokemons, ...body.results]);\n        setIsFetching(false);\n      }\n    }\n    getPokemons();\n  }, [lastPage]);\n\n  const onIntersect = useCallback(() => {\n    if (!isFetching) {\n      setLastPage((prevLast) => prevLast + 1);\n    }\n  }, [isFetching]);\n\n  useIntersectionObserver({\n    ref: refObserver,\n    onIntersect,\n  });\n  if (isFetching) return <Loader />;\n  else\n    return (\n      <div className='pokemon-wrapper'>\n        <span className='pokemon-logo'>choose your pokemon!</span>\n        <div className='pokemon-cards'>\n          {pokemons.map((pokemonItem) => (\n            <PokemonCard pokemonItem={pokemonItem} key={pokemonItem.name} />\n          ))}\n          <div ref={refObserver} className='observer-block'></div>\n        </div>\n      </div>\n    );\n}\n\nexport default App;\n","import { MutableRefObject, RefObject, useEffect } from 'react';\n\ntype Props = {\n  ref: RefObject<HTMLDivElement> | MutableRefObject<HTMLDivElement>;\n  onIntersect: () => void;\n};\n\nexport function useIntersectionObserver({ ref, onIntersect }: Props): void {\n  useEffect(() => {\n    const observable = ref.current;\n\n    if (!observable) return;\n    const observer = new IntersectionObserver(\n      ([entry]) => {\n        if (entry.isIntersecting) onIntersect();\n      },\n      { threshold: 0.5, rootMargin: '300px' }\n    );\n\n    observer.observe(observable);\n\n    return () => {\n      observer.unobserve(observable);\n    };\n  }, [ref, onIntersect]);\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler): void => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}